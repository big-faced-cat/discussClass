<template>
    <EchartsBox :title="title" :width="defaultWidth" :height="defaultHeight" style="float:left;">
        <div :id="RANDOM_ID" class="s01_EchartsQLine">

        </div>
    </EchartsBox>
</template>

<script>
    import EchartsBox from "./EchartsBox.vue"

    export default {
        name: "EchartsQLine",
        props: ["title", "width", "height"],
        components: {EchartsBox},
        data() {
            return {
                defaultWidth: this.width ? this.width : "100%",
                defaultHeight: this.height ? this.height : "100%",
            }
        },
        mounted() {
            var self = this;
            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById(this.RANDOM_ID));

            var data = [
                   [[0, -33, 4096869, '', "思考"],
                       [1, -37, 13096869, '', "思考"],
                       [2, -35, 3096869, '', "思考"],
                       [3, -34.6, 3096869, '', "思考"],
                       [4, -32, 3096869, '', "思考"],
                       [5, -24, 3096869, '', "思考"],
                       [6, -33.4, 8096869, '', "思考"],

                       [7, -33.4, 6096869, '', "思考"],
                       [8, -33.4, 10096869, '', "思考"],
                       [9, -33.2, 27662440, '', "思考"],

                       [10, -36, 50605773, '', "思考"],


                       [11, -37, 13096869, '', "思考"],
                       [12, -35, 3096869, '', "思考"],
                       [13, -34.6, 3096869, '', "思考"],
                       [14, -32, 3096869, '', "思考"],
                       [15, -24, 3096869, '', "思考"],
                       [16, -33.4, 8096869, '', "思考"],

                       [17, -33.4, 6096869, '', "思考"],
                       [18, -33.4, 10096869, '', "思考"],
                       [19, -33.2, 27662440, '', "思考"],

                       [20, -36, 50605773, '', "思考"],

                       [21, -37, 13096869, '', "思考"],
                       [22, -35, 3096869, '', "思考"],
                       [23, -34.6, 3096869, '', "思考"],
                       [24, -32, 3096869, '', "思考"],
                       [25, -24, 3096869, '', "思考"],
                       [26, -33.4, 8096869, '', "思考"],

                       [27, -33.4, 6096869, '', "思考"],
                       [28, -33.4, 10096869, '', "思考"],
                       [29, -33.2, 27662440, '', "思考"],

                       [30, -36, 50605773, '', "思考"],


                       [31, -37, 13096869, '', "思考"],
                       [32, -35, 3096869, '', "思考"],
                       [33, -34.6, 3096869, '', "思考"],
                       [34, -32, 3096869, '', "思考"],
                       [35, -24, 12096869, '', "思考"],
                       [36, -33.4, 8096869, '', "思考"],

                       [37, -33.4, 6096869, '', "思考"],
                       [38, -33.4, 10096869, '', "思考"],
                       [39, -33.2, 27662440, '', "思考"],

                       [40, -39, 60605773, '', "思考"],

                       [41, -33.4, 6096869, '', "思考"],
                       [42, -33.4, 10096869, '', "思考"],
                       [43, -33.0, 17662440, '', "思考"],

                       [44, -36, 50605773, '', "思考"],
                       [45, -36, 50605773, '', "思考"],

                       [46, -36, 50605773, '', "思考"],


                       [47, -37, 13096869, '', "思考"],
                       [48, -35, 3096869, '', "思考"],
                       [49, -34.6, 3096869, '', "思考"],
                       [50, -32, 3096869, '', "思考"],
                       [51, -24, 12096869, '', "思考"],
                       [52, -33.4, 8096869, '', "思考"],

                       [53, -33.4, 6096869, '', "思考"],
                       [54, -33.4, 10096869, '', "思考"],
                       [55, -33.2, 27662440, '', "思考"],

                       [56, -39, 60605773, '', "思考"],

                       [57, -33.4, 6096869, '', "思考"],
                       [58, -33.4, 10096869, '', "思考"],
                       [59, -33.0, 17662440, '', "思考"],

                       [60, -36, 50605773, '', "思考"],
                       [61, -36, 50605773, '', "思考"],



                       [62, -37, 13096869, '', "思考"],
                       [63, -35, 3096869, '', "思考"],
                       [64, -34.6, 3096869, '', "思考"],
                       [65, -32, 3096869, '', "思考"],
                       [66, -24, 12096869, '', "思考"],
                       [67, -33.4, 8096869, '', "思考"],

                       [68, -33.4, 6096869, '', "思考"],
                       [69, -33.4, 10096869, '', "思考"],
                       [70, -33.2, 27662440, '', "思考"],

                       [71, -39, 60605773, '', "思考"],

                       [72, -33.4, 6096869, '', "思考"],
                       [73, -33.4, 10096869, '', "思考"],
                       [74, -33.0, 17662440, '', "思考"],

                       [75, -36, 50605773, '', "思考"],
                       [76, -36, 50605773, '', "思考"],

                       [77, -37, 13096869, '', "思考"],
                       [78, -35, 3096869, '', "思考"],
                       [79, -34.6, 3096869, '', "思考"],
                       [80, -32, 3096869, '', "思考"],
                       [81, -24, 3096869, '', "思考"],
                       [82, -33.4, 8096869, '', "思考"],

                       [83, -33.4, 6096869, '', "思考"],
                       [84, -33.4, 10096869, '', "思考"],

                       [85, -34.6, 3096869, '', "思考"],
                       [86, -32, 3096869, '', "思考"],
                       [87, -24, 3096869, '', "思考"],
                       [88, -33.4, 8096869, '', "思考"],

                       [89, -33.4, 6096869, '', "思考"],
                       [90, -33.4, 10096869, '', "思考"],


                ],

                [
                    [0, 33, 4096869, '', "活跃"],
                    [1, 37, 13096869, '', "活跃"],
                    [2, 35, 3096869, '', "活跃"],
                    [3, 34.6, 3096869, '', "活跃"],
                    [4, 32, 3096869, '', "活跃"],
                    [5, 24, 3096869, '', "活跃"],
                    [6, 33.4, 8096869, '', "活跃"],

                    [7, 33.4, 6096869, '', "活跃"],
                    [8, 33.4, 10096869, '', "活跃"],
                    [9, 33.2, 27662440, '', "活跃"],

                    [10, 36, 50605773, '', "活跃"],


                    [11, 37, 13096869, '', "活跃"],
                    [12, 35, 3096869, '', "活跃"],
                    [13, 34.6, 3096869, '', "活跃"],
                    [14, 32, 3096869, '', "活跃"],
                    [15, 24, 3096869, '', "活跃"],
                    [16, 33.4, 8096869, '', "活跃"],

                    [17, 33.4, 6096869, '', "活跃"],
                    [18, 33.4, 10096869, '', "活跃"],
                    [19, 33.2, 27662440, '', "活跃"],

                    [20, 36, 50605773, '', "活跃"],

                    [21, 37, 13096869, '', "活跃"],
                    [22, 35, 3096869, '', "活跃"],
                    [23, 34.6, 3096869, '', "活跃"],
                    [24, 32, 3096869, '', "活跃"],
                    [25, 24, 3096869, '', "活跃"],
                    [26, 33.4, 8096869, '', "活跃"],

                    [27, 33.4, 6096869, '', "活跃"],
                    [28, 33.4, 10096869, '', "活跃"],
                    [29, 33.2, 27662440, '', "活跃"],

                    [30, 36, 50605773, '', "活跃"],


                    [31, 37, 13096869, '', "活跃"],
                    [32, 35, 3096869, '', "活跃"],
                    [33, 34.6, 3096869, '', "活跃"],
                    [34, 32, 3096869, '', "活跃"],
                    [35, 24, 12096869, '', "活跃"],
                    [36, 33.4, 8096869, '', "活跃"],

                    [37, 33.4, 6096869, '', "活跃"],
                    [38, 33.4, 10096869, '', "活跃"],
                    [39, 33.2, 27662440, '', "活跃"],

                    [40, 39, 60605773, '', "活跃"],

                    [41, 33.4, 6096869, '', "活跃"],
                    [42, 33.4, 10096869, '', "活跃"],
                    [43, 33.0, 17662440, '', "活跃"],

                    [44, 36, 50605773, '', "活跃"],
                    [45, 36, 50605773, '', "活跃"],



                    [46, 33, 4096869, '', "活跃"],
                    [47, 37, 13096869, '', "活跃"],
                    [48, 35, 3096869, '', "活跃"],
                    [49, 34.6, 3096869, '', "活跃"],
                    [50, 32, 3096869, '', "活跃"],
                    [51, 24, 3096869, '', "活跃"],
                    [52, 33.4, 8096869, '', "活跃"],

                    [53, 33.4, 6096869, '', "活跃"],
                    [54, 33.4, 10096869, '', "活跃"],
                    [55, 33.2, 27662440, '', "活跃"],

                    [56, 36, 50605773, '', "活跃"],


                    [57, 37, 13096869, '', "活跃"],
                    [58, 35, 3096869, '', "活跃"],
                    [59, 34.6, 3096869, '', "活跃"],
                    [60, 32, 3096869, '', "活跃"],
                    [61, 24, 3096869, '', "活跃"],
                    [62, 33.4, 8096869, '', "活跃"],

                    [63, 33.4, 6096869, '', "活跃"],
                    [64, 33.4, 10096869, '', "活跃"],
                    [65, 33.2, 27662440, '', "活跃"],

                    [66, 36, 50605773, '', "活跃"],

                    [67, 37, 13096869, '', "活跃"],
                    [68, 35, 3096869, '', "活跃"],
                    [69, 34.6, 3096869, '', "活跃"],
                    [70, 32, 3096869, '', "活跃"],
                    [71, 24, 3096869, '', "活跃"],
                    [72, 33.4, 8096869, '', "活跃"],

                    [73, 33.4, 6096869, '', "活跃"],
                    [74, 33.4, 10096869, '', "活跃"],
                    [75, 33.2, 27662440, '', "活跃"],

                    [76, 36, 50605773, '', "活跃"],


                    [77, 37, 13096869, '', "活跃"],
                    [78, 35, 3096869, '', "活跃"],
                    [79, 34.6, 3096869, '', "活跃"],
                    [80, 32, 3096869, '', "活跃"],
                    [81, 24, 12096869, '', "活跃"],
                    [82, 33.4, 8096869, '', "活跃"],

                    [83, 33.4, 6096869, '', "活跃"],
                    [84, 33.4, 10096869, '', "活跃"],
                    [85, 33.2, 27662440, '', "活跃"],

                    [86, 39, 60605773, '', "活跃"],

                    [87, 33.4, 6096869, '', "活跃"],
                    [88, 33.4, 10096869, '', "活跃"],
                    [89, 33.0, 17662440, '', "活跃"],

                    [90, 36, 50605773, '', "活跃"],

                ],
                [
                    [0, 0, 17096869, '', "倾听"],
                    [1, 0, 127662440, '', "倾听"],
                    [2, 0, 147662440, '', "倾听"],
                    [3, 0, 97662440, '', "倾听"],
                    [4, 0, 127662440, '', "倾听"],
                    [5, 0, 84662440, '', "倾听"],
                    [6, 0, 123662440, '', "倾听"],
                    [7, 0, 14444444, '', "倾听"],
                    [8, 0, 297662440, '', "倾听"],
                    [9, 0, 19662440, '', "倾听"],
                    [10, 0, 54605773, '', "倾听"],
                    [11, 0, 97662440, '', "倾听"],
                    [12, 0, 107662440, '', "倾听"],
                    [13, 0, 192662440, '', "倾听"],
                    [14, 0, 107662440, '', "倾听"],
                    [15, 0, 210582082, '', "倾听"],
                    [16, 0, 127662440, '', "倾听"],
                    [17, 0, 827662440, '', "倾听"],
                    [18, 0, 327662440, '', "倾听"],
                    [19, 0, 127662440, '', "倾听"],
                    [20, 0, 14986705, '', "倾听"],
                    [21, 0, 227662440, '', "倾听"],
                    [22, 0, 727662440, '', "倾听"],
                    [23, 0, 327662440, '', "倾听"],
                    [24, 0, 527662440, '', "倾听"],
                    [25, 0, 256943299, '', "倾听"],
                    [26, 0, 527662440, '', "倾听"],
                    [27, 0, 127662440, ' ', "倾听"],
                    [28, 0, 827662440, '', "倾听"],
                    [29, 0, 327662440, '', "倾听"],
                    [30, 0, 478958237, '', "倾听"],
                    [31, 0, 727662440, '', "倾听"],
                    [32, 0, 727662440, '', "倾听"],
                    [33, 0, 427662440, '', "倾听"],
                    [34, 0, 527662440, '', "倾听"],
                    [35, 0, 444254830, '', "倾听"],
                    [36, 0, 427662440, '', "倾听"],
                    [37, 0, 127662440, '', "倾听"],
                    [38, 0, 227662440, '', "倾听"],
                    [39, 0, 323662440, '', "倾听"],
                    [40, 0, 240601776, '', "倾听"],
                    [41, 0, 530601776, '', "倾听"],
                    [42, 0, 720601776, '', "倾听"],
                    [43, 0, 830601776, '', "倾听"],
                    [44, 0, 940601776, '', "倾听"],
                    [45, 0, 162249285, '', "倾听"],


                    [46, 0, 17096869, '', "倾听"],
                    [47, 0, 127662440, '', "倾听"],
                    [48, 0, 147662440, '', "倾听"],
                    [49, 0, 97662440, '', "倾听"],
                    [50, 0, 127662440, '', "倾听"],
                    [51, 0, 84662440, '', "倾听"],
                    [52, 0, 123662440, '', "倾听"],
                    [53, 0, 14444444, '', "倾听"],
                    [54, 0, 297662440, '', "倾听"],
                    [55, 0, 19662440, '', "倾听"],
                    [56, 0, 54605773, '', "倾听"],
                    [57, 0, 97662440, '', "倾听"],
                    [58, 0, 107662440, '', "倾听"],
                    [59, 0, 192662440, '', "倾听"],
                    [60, 0, 107662440, '', "倾听"],
                    [61, 0, 210582082, '', "倾听"],
                    [62, 0, 127662440, '', "倾听"],
                    [63, 0, 827662440, '', "倾听"],
                    [64, 0, 327662440, '', "倾听"],
                    [65, 0, 127662440, '', "倾听"],
                    [66, 0, 14986705, '', "倾听"],
                    [67, 0, 227662440, '', "倾听"],
                    [68, 0, 727662440, '', "倾听"],
                    [69, 0, 327662440, '', "倾听"],
                    [70, 0, 527662440, '', "倾听"],
                    [71, 0, 256943299, '', "倾听"],
                    [72, 0, 527662440, '', "倾听"],
                    [73, 0, 127662440, ' ', "倾听"],
                    [74, 0, 827662440, '', "倾听"],
                    [75, 0, 327662440, '', "倾听"],
                    [76, 0, 478958237, '', "倾听"],
                    [77, 0, 727662440, '', "倾听"],
                    [78, 0, 727662440, '', "倾听"],
                    [79, 0, 427662440, '', "倾听"],
                    [80, 0, 527662440, '', "倾听"],
                    [81, 0, 444254830, '', "倾听"],
                    [82, 0, 427662440, '', "倾听"],
                    [83, 0, 127662440, '', "倾听"],
                    [84, 0, 227662440, '', "倾听"],
                    [85, 0, 323662440, '', "倾听"],
                    [86, 0, 240601776, '', "倾听"],
                    [87, 0, 530601776, '', "倾听"],
                    [88, 0, 720601776, '', "倾听"],
                    [89, 0, 830601776, '', "倾听"],
                    [90, 0, 940601776, '', "倾听"],


                ]
            ];

            var option = {
                backgroundColor: "transparent",
                zoom: 1.8,
                title: false,
                legend: {
                    right: 30,
                    data: ["思考", '活跃','倾听'],
                },
                xAxis: {
                    splitLine: {
                        lineStyle: {
                            type: 'dashed'
                        }
                    },
                    name: "时间",
                    nameTextStyle: {
                        color: "#666",
                        fontFamily: "MicrosoftYaHei"
                    }
                },
                yAxis: {
                    splitLine: {
                        lineStyle: {
                            type: 'dashed'
                        }
                    },
                    scale: false,
                    name: "情绪指数",
                    nameTextStyle: {
                        color: "#666",
                        fontFamily: "MicrosoftYaHei"
                    }
                },
                series: [{
                    name: '思考',
                    data: data[0],
                    type: 'scatter',
                    symbolSize: function (data) {
                        return Math.sqrt(data[2]) / 5e2;
                    },
                    label: {
                        emphasis: {
                            show: true,
                            formatter: function (param) {
                                return param.data[3];
                            },
                            position: 'top'
                        }
                    },
                    itemStyle: {
                        normal: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(120, 36, 50, 0.5)',
                            shadowOffsetY: 5,
                            color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                                offset: 0,
                                // color: 'rgb(251, 118, 123)' rgb(129, 227, 238)
                                color: 'rgb(129, 227, 238)'
                            }, {
                                offset: 1,
                                color: 'rgb(129, 227, 238)'
                            }])
                        }
                    }
                }, {
                    name: '活跃',
                    data: data[1],
                    type: 'scatter',
                    symbolSize: function (data) {
                        return Math.sqrt(data[2]) / 5e2;
                    },
                    label: {
                        emphasis: {
                            show: true,
                            formatter: function (param) {
                                return param.data[3];
                            },
                            position: 'top'
                        }
                    },
                    itemStyle: {
                        normal: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(25, 100, 150, 0.5)',
                            shadowOffsetY: 5,
                            color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                                offset: 0,
                                // rgb(204, 46, 72)
                                // color: 'rgb(129, 227, 238)'
                                color: 'rgb(204, 46, 72)'
                            }, {
                                offset: 1,
                                color: 'rgb(204, 46, 72)'
                            }])
                        }
                    }
                },
                    {
                        name: '倾听',
                        data: data[2],
                        type: 'scatter',
                        symbolSize: function (data) {
                            return Math.sqrt(data[2]) / 5e2;
                        },
                        label: {
                            emphasis: {
                                show: true,
                                formatter: function (param) {
                                    return param.data[3];
                                },
                                position: 'top'
                            }
                        },
                        itemStyle: {
                            normal: {
                                shadowBlur: 10,
                                shadowColor: 'rgba(25, 100, 150, 0.5)',
                                shadowOffsetY: 5,
                                color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                                    offset: 0,
                                    color: '#32CD32'
                                }, {
                                    offset: 1,
                                    color: '#32CD32'
                                }])
                            }
                        }
                    }
                ],
                grid:{
                    top:65,
                    x:55,
                    x2:50,
                    y2:50
                }
            };

            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);
            //点击事件
            myChart.on('click', function (params) {
                if (params.value) {
                    self.$emit("playTimeEvent", params.value[0] * 60)
                } else {
                }
            });

            BUS.$on("resize", function () {
                myChart.resize();
            });

        },
        computed: {
            RANDOM_ID() {
                return "s01_EchartsQLine_"+(new Date()).getTime() + "_" + Math.floor(Math.random() * 1000)
            }
        }
    }
</script>

<style scoped>
    .s01_EchartsQLine {
        width: 100%;
        height: 100%;
        position: absolute;
        left:0;
        bottom: -6%;
    }
</style>